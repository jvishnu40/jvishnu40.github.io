---
title:      Using Jenkins pipeline for CI - Part 1
layout:     post
category:   Tutorial
tags: 	    [jenkins, ci]
#feature:   /assets/img/1_tsunami_udp_data_transfer.svg
---

In this post, I will discuss on continuous integration with Jenkins using pipeline. Jenkins will be setup in AWS as master-slave topology. Jenkins master will only hold the configuration while Jenkins slave will perform the build process. With pipeline scripts you can work more faster than freestyle projects in Jenkins. Of course, I am not introducing what is Jenkins and what it can do.
<!--more-->

### What is Jenkins Pipeline?

Jenkins pipeline is a suite of plugins which allows Jenkins to perform continuous integration, deployment and delivery process as code. Domain specific language (DSL) groovy is used to write Jenkins pipeline scripts. Rather than selecting multiple options, check boxes in freestyle projects you can just write pipeline script and keep it as a file named 'Jenkinsfile' in the SCM which will be enough to accomplish your task. Jenkins pipeline consists of multiple stages which are subtasks and multiple stages form a node. A node can be labelled which is useful for run Jenkins labelled job.

### What we need?

We need three servers with SSH user with root privileges. Among three servers one will be Jenkins master, second one will be Jenkins slave and the last server will be application server where application will be running. We also need application source code hosted in Github, Gitlab, Bitbucket or any source control repository. I will be using Linux server with Ubuntu 16.04.3 version and Github as the source code repository.

### Setup Jenkins in Jenkins master

At first we need to install Java to run Jenkins. To install java login to jenkins master and run the following commands.

```shell
ubuntu@jenkins-master:$ sudo add-apt-repository ppa:webupd8team/java -y
ubuntu@jenkins-master:$ sudo apt update
ubuntu@jenkins-master:$ sudo apt install oracle-java8-installer -y
ubuntu@jenkins-master:$ sudo update-alternatives --config java	#take the java path from here
```
Then collect the java path from here which is the absolute path to java. Then we need to export this path as JAVA_HOME environemtn variable using the following command:

```shell
ubuntu@jenkins-master:$ export JAVA_HOME=/usr/lib/jvm/java-8-oracle/jre
```
